<div class="modal fade" id="modalPrefacturaPago" tabindex="-1" aria-labelledby="modalPrefacturaPagoLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <form id="form-pago-prefactura-pago" method="post" autocomplete="off" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalPrefacturaPagoLabel">Prefactura y Pago</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <!-- Tipo de Prefactura -->
        <div class="mb-3">
          <label for="tipo_prefactura_pago" class="form-label">Tipo de Prefactura</label>
          <select id="tipo_prefactura_pago" name="tipo_prefactura" class="form-select">
            <option value="inicial">Inicial</option>
            <option value="servicio">Servicio</option>
            <option value="recargo">Recargo</option>
            <option value="renovacion">Renovación</option>
          </select>
        </div>
        <!-- Tabla de desglose de productos (rellenada por JS) -->
        <div id="prefactura-detalle-pago">Aquí va el detalle de la prefactura</div>
        <!-- Totales -->
        <div class="mt-3">
          <strong>Total: $<span id="prefactura-total-pago">0.00</span></strong>
        </div>
        <hr>
        <!-- Sección de pago -->
        <div class="mb-2">
          <strong>Total a pagar: $<span id="pago-total-pago">0.00</span></strong>
        </div>
        <div class="row">
          <div class="mb-2 col-md-4">
            <!-- Selector: ¿Es facturable? -->
            <div class="form-check">
              <label for="facturable">¿Requiere facturación?</label>
              <select id="facturable" name="facturable" class="form-select" required>
                <option value="">Selecciona una respuesta</option>
                <option value="1">Sí</option>
                <option value="0">No</option>
              </select>
            </div>
          </div>
          <div class="mb-2 col-md-4">
            <label for="metodo-pago-pago">Método de pago:</label>
            <select id="metodo-pago-pago" name="metodo_pago" class="form-select" required>
              <option value="efectivo">Efectivo</option>
              <option value="tarjeta_debito">Tarjeta Débito</option>
              <option value="tarjeta_credito">Tarjeta Crédito</option>
              <option value="transferencia">Transferencia</option>
            </select>
          </div>
          <div id="pago-efectivo-pago" class="col-md-4" style="display:none;">
            <label for="monto-recibido-pago">Monto recibido:</label>
            <input type="number" id="monto-recibido-pago" name="monto_recibido" class="form-control" min="0" step="0.01">
            <div>Cambio: $<span id="cambio-pago">0.00</span></div>
          </div>
          <div id="pago-seguimiento-pago" class="col-md-4" style="display:none;">
            <label for="monto-recibido-pago">Monto recibido(colocar precio exacto):</label>
            <input type="text" id="numero-seguimiento-pago" name="monto_recibido" class="form-control" step="0.001" placeholder="Coloca el monto exacto del pago">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-success" id="btn-generar-pago-pago" type="submit" style="display: none;">Generar pago</button>
      </div>
    </form>
  </div>
</div>
